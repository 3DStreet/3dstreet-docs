"use strict";(self.webpackChunk_3dstreet_docs=self.webpackChunk_3dstreet_docs||[]).push([[7398],{7569:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>l,contentTitle:()=>s,default:()=>h,frontMatter:()=>o,metadata:()=>r,toc:()=>d});var i=a(5893),n=a(1151);const o={title:"Exploring New Geospatial and Augmented Reality Features for 3DStreet",description:"A developer update blog post on R&D during the first few months of 2024.",authors:"kfarr",tags:["webxr","3dtiles","google maps","geospatial","ar"],image:"./images/2024-03-25/3d-tiles-3dstreet.jpeg"},s=void 0,r={permalink:"/blog/2024/03/25/dev-blog-geospatial-and-augmented-reality-feature-research",source:"@site/blog/2024-03-25-dev-blog-geospatial-and-augmented-reality-feature-research.md",title:"Exploring New Geospatial and Augmented Reality Features for 3DStreet",description:"A developer update blog post on R&D during the first few months of 2024.",date:"2024-03-25T00:00:00.000Z",formattedDate:"March 25, 2024",tags:[{label:"webxr",permalink:"/blog/tags/webxr"},{label:"3dtiles",permalink:"/blog/tags/3-dtiles"},{label:"google maps",permalink:"/blog/tags/google-maps"},{label:"geospatial",permalink:"/blog/tags/geospatial"},{label:"ar",permalink:"/blog/tags/ar"}],readingTime:6.1,hasTruncateMarker:!0,authors:[{name:"Kieran Farr",title:"Creator of 3DStreet",url:"https://github.com/kfarr",imageURL:"https://github.com/kfarr.png",key:"kfarr"}],frontMatter:{title:"Exploring New Geospatial and Augmented Reality Features for 3DStreet",description:"A developer update blog post on R&D during the first few months of 2024.",authors:"kfarr",tags:["webxr","3dtiles","google maps","geospatial","ar"],image:"./images/2024-03-25/3d-tiles-3dstreet.jpeg"},unlisted:!1,nextItem:{title:"Creating Augmented Reality Street Scenes with Streetmix, 3DStreet and Adobe Aero",permalink:"/blog/2024/01/30/creating-augmented-reality-ar-scenes-with-streetmix-3dstreet-adobe-aero"}},l={image:a(4227).Z,authorsImageUrls:[void 0]},d=[{value:"Google Maps 3D Tiles",id:"google-maps-3d-tiles",level:2},{value:"Why is this important?",id:"why-is-this-important",level:3},{value:"Video Demo",id:"video-demo",level:3},{value:"Reaction and productization",id:"reaction-and-productization",level:3},{value:"Bollard Buddy AR - mobile app for manual geolocation and object placement",id:"bollard-buddy-ar---mobile-app-for-manual-geolocation-and-object-placement",level:2},{value:"Video Demo",id:"video-demo-1",level:3},{value:"Geospatial QR hack for fake VPS",id:"geospatial-qr-hack-for-fake-vps",level:3},{value:"Create and share from mobile -- serverless with no auth",id:"create-and-share-from-mobile----serverless-with-no-auth",level:3},{value:"Challenges with web-based Augmented Reality",id:"challenges-with-web-based-augmented-reality",level:3},{value:"Reaction and productization",id:"reaction-and-productization-1",level:3},{value:"Feedback and next steps",id:"feedback-and-next-steps",level:2}];function c(e){const t={a:"a",h2:"h2",h3:"h3",img:"img",li:"li",p:"p",strong:"strong",ul:"ul",...(0,n.a)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(t.p,{children:["\"Geospatial\" is the uniting theme for the many feature requests we get from 3DStreet's growing user base. Users\xa0can already place custom street scenes, so it's natural to understand why geospatial features like 3D Google Map Tiles or Augmented Reality visualization keep coming up in conversations with users when we ",(0,i.jsx)(t.a,{href:"/blog/2024/01/30/creating-augmented-reality-ar-scenes-with-streetmix-3dstreet-adobe-aero",children:"explore common repeatable workflows for visualizing safer infrastructure"}),"."]}),"\n",(0,i.jsx)(t.p,{children:"To kick off 2024 we've been doing some experiments to see how these technologies could be applied to public streets and spatial design."}),"\n",(0,i.jsxs)(t.p,{children:[(0,i.jsx)(t.img,{src:a(7942).Z+"",width:"1024",height:"886"}),"\n",(0,i.jsx)(t.strong,{children:"Proof of concept 3D Tiles and 3DStreet scene combined."})]}),"\n",(0,i.jsx)(t.h2,{id:"google-maps-3d-tiles",children:"Google Maps 3D Tiles"}),"\n",(0,i.jsxs)(t.p,{children:["We updated the New York Times R&D team's ",(0,i.jsx)(t.a,{href:"https://github.com/nytimes/aframe-loader-3dtiles-component?tab=readme-ov-file#using-google-3d-tiles-api",children:"GitHub repository for the OGC 3D Tiles A-Frame VR Component"})," to support loading 3D maps from Google Maps 3D Tiles. (Thanks Avner for doing the hard three.js work to make this happen.)"]}),"\n",(0,i.jsx)(t.h3,{id:"why-is-this-important",children:"Why is this important?"}),"\n",(0,i.jsx)(t.p,{children:"When presenting street improvements projects, leveraging the existing environment provides instantaneous context and understanding for stakeholders of all ages and abilities. Even low fidelity representations of the surrounding environment helps viewers recognize a project's location and orientation."}),"\n",(0,i.jsx)(t.p,{children:"This experiment is a first step to adding 3D maps as a new feature to 3DStreet Editor."}),"\n",(0,i.jsx)(t.h3,{id:"video-demo",children:"Video Demo"}),"\n",(0,i.jsx)(t.p,{children:"This video is a demo of what it could look like to localize your 3DStreet scene with 3D map tiles near Market and Van Ness Streets in San Francisco."}),"\n",(0,i.jsx)("iframe",{width:"560",height:"315",src:"https://www.youtube.com/embed/JRWd8P4QwTs?si=lAx7vGRB_rrVIqf6",title:"YouTube video player",frameborder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share",referrerpolicy:"strict-origin-when-cross-origin",allowfullscreen:!0}),"\n",(0,i.jsx)(t.h3,{id:"reaction-and-productization",children:"Reaction and productization"}),"\n",(0,i.jsxs)(t.p,{children:["This demo resonated well with users -- ",(0,i.jsx)(t.a,{href:"https://twitter.com/3dstreetapp/status/1768310079307272423",children:"our first tweet sharing the concept"})," was retweeted 11 times and liked more than 50 times on Twitter and ",(0,i.jsx)(t.a,{href:"https://www.linkedin.com/posts/3dstreet_threejs-activity-7174079008819560449-kzqw",children:"attracted engaging comments on LinkedIn"}),"."]}),"\n",(0,i.jsxs)(t.p,{children:["Users would like 3D Map Tiles productized as a built-in feature of 3DStreet, but unfortunately the Google 3D Tiles API is significantly more expensive than traditional 2D map tiles starting at ",(0,i.jsx)(t.a,{href:"https://github.com/nytimes/aframe-loader-3dtiles-component?tab=readme-ov-file#using-google-3d-tiles-api",children:"$6 per 1000 unique user sessions"}),". In order to offer this feature we will need to come up with a paid subscription plan option to cover the costs of Google Maps 3D Tiles access."]}),"\n",(0,i.jsx)(t.h2,{id:"bollard-buddy-ar---mobile-app-for-manual-geolocation-and-object-placement",children:"Bollard Buddy AR - mobile app for manual geolocation and object placement"}),"\n",(0,i.jsxs)(t.p,{children:["The recent ",(0,i.jsx)(t.a,{href:"https://dreamxr.co/",children:"DreamXR hackathon"})," in San Francisco was the perfect environment to work alongside other XR developers for inspiration to finish a new app in 48 hours. We created BOLLARD BUDDY AR -- an app that lets you place traffic control devices anywhere using augmented reality!"]}),"\n",(0,i.jsx)(t.h3,{id:"video-demo-1",children:"Video Demo"}),"\n",(0,i.jsx)(t.p,{children:"It's easiest to show with a video:"}),"\n",(0,i.jsx)("iframe",{width:"315",height:"560",src:"https://www.youtube.com/embed/mP32oAlz8iI",title:"Bollard Buddy AR - 2024 DreamXR Hackathon Demo",frameborder:"0",allow:"autoplay; encrypted-media;picture-in-picture; web-share",allowfullscreen:!0}),"\n",(0,i.jsx)(t.p,{children:"The app is simple:"}),"\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsx)(t.li,{children:"Press PLAY to start the AR view after scanning a QR code*"}),"\n",(0,i.jsx)(t.li,{children:"Then tap to place cones or other objects at the yellow cursor."}),"\n",(0,i.jsx)(t.li,{children:"Choose between a few different traffic safety device models from the 3DStreet model library"}),"\n"]}),"\n",(0,i.jsx)(t.p,{children:'While cool, it is technically "table stakes" within the scope of AR app demos. But what\'s next makes it more useful.'}),"\n",(0,i.jsx)(t.h3,{id:"geospatial-qr-hack-for-fake-vps",children:"Geospatial QR hack for fake VPS"}),"\n",(0,i.jsx)(t.p,{children:'What makes BOLLARD BUDDY AR app unique compared to other AR "tap to place" demos is the connection to a specific location -- a longitude and latitude is embedded in the app QR code so that any objects placed in the scene can be localized relative to that longitude and latitude origin point.'}),"\n",(0,i.jsx)(t.p,{children:'This is extremely effective as a cheap and easy way to have a perfect "virtual positioning system" (or VPS) as long as the person posting the sign is capable of posting the sign at the very specific longitude and latitude (and orientation) associated with the QR code. This is easier than it sounds -- by simply dropping a pin on Apple or Google Maps at a clearly identifiable landmark such as a parking meter or telephone pole at a sufficient zoom level you can get a very precise longitude and latitude.'}),"\n",(0,i.jsx)(t.h3,{id:"create-and-share-from-mobile----serverless-with-no-auth",children:"Create and share from mobile -- serverless with no auth"}),"\n",(0,i.jsx)(t.p,{children:"The other unique BOLLARD BUDDY AR feature is sharing your newly created augmented reality street scene with other users (and even yourself) to refer to in the future."}),"\n",(0,i.jsx)(t.p,{children:"Outside in the bright sun on the hot tarmac we don't want to challenge users with authentication or collecting data that requires keyboard input. How can we allow people to share a complicated geospatial scene without a server or authentication?"}),"\n",(0,i.jsxs)(t.p,{children:["Our trick was to stuff the newly created scene data in the URL as url-encoded data. More specifically, a JSON representation of the array of 3D A-Frame entities and for each their mixin, position, rotation properties are all ",(0,i.jsx)(t.a,{href:"https://github.com/KilledByAPixel/JSONCrush",children:"crushed"}),' and placed as a querystring value in a new "Share URL".']}),"\n",(0,i.jsx)(t.p,{children:"Then we use the native OS share dialog to allow the user to choose how they want to share this, from copy/paste to sending message, email, AirDrop (my favorite) or more."}),"\n",(0,i.jsx)(t.h3,{id:"challenges-with-web-based-augmented-reality",children:"Challenges with web-based Augmented Reality"}),"\n",(0,i.jsx)(t.p,{children:"I've always been excited about the fun factor of AR and VR headsets, but recent technology advances in everyday smart phones means that the same tech is possible without a headset leveraging built-in AR libraries such as ARKit and ARCore on Apple and Android devices respectively."}),"\n",(0,i.jsxs)(t.p,{children:["The magic of these AR libraries is precision -- they have extremely accurate ",(0,i.jsx)(t.a,{href:"https://en.wikipedia.org/wiki/Simultaneous_localization_and_mapping",children:"simultaneous localization and mapping (SLAM)"})," available out-of-the-box for native apps usable on almost any device you may have in your pocket."]}),"\n",(0,i.jsxs)(t.p,{children:['Until now these libraries have only been available for native applications, but recently web JavaScript-based access was made available on Android through WebXR AR Mode bindings. iOS devices using Safari have not yet supported WebXR AR Mode, however recently there have been a few "polyfill" workarounds. We are using ',(0,i.jsx)(t.a,{href:"https://launch.variant3d.com/",children:"Variant Launch"}),' which provides a (nearly) seamless experience for iOS users to instantly launch web-based AR apps. Behind the scenes, Variant Launch uses Apple\'s iOS "App Clips" feature to the underlying ARKit library through the WebXR JavaScript standard without needing to download an app first.']}),"\n",(0,i.jsx)(t.h3,{id:"reaction-and-productization-1",children:"Reaction and productization"}),"\n",(0,i.jsx)(t.p,{children:"People often show surprise when using the app for the first time -- perhaps from the fun of reconfiguring public space for the first time, or the magic of discovering a super power they didn't realize their smart phone supported."}),"\n",(0,i.jsx)(t.p,{children:"Some users see past the initial \"Wow Moment\" to practical use cases, especially for professional field measurement and planning for traffic control device placement or other civil engineering-related purpose. In fact, once users start placing basic cones provided in the default application it's not long before they start thinking of other objects they'd like to place and additional use cases."}),"\n",(0,i.jsx)(t.p,{children:"We've continued development of this app concept, most recently adding new objects and improving usability and trying it out with real users at a street fair in San Francisco Saturday March 23."}),"\n",(0,i.jsxs)(t.p,{children:[(0,i.jsx)(t.img,{src:a(415).Z+"",width:"960",height:"640"}),"\n",(0,i.jsxs)(t.strong,{children:["Picture of a street fair with QR code on signage to collect feedback from community members using a modified version of BOLLARD BUDDY AR with plants, flowers and other street greening objects. ",(0,i.jsx)(t.a,{href:"https://www.sfchronicle.com/bayarea/article/treat-avenue-green-space-19362364.php",children:"Credit Benjamin Fanjoy/The Chronicle"})]})]}),"\n",(0,i.jsx)(t.p,{children:"Similar to other geospatial features, there are fees incurred to make AR placement apps available across all devices (especially including iOS)."}),"\n",(0,i.jsx)(t.h2,{id:"feedback-and-next-steps",children:"Feedback and next steps"}),"\n",(0,i.jsxs)(t.p,{children:["I'd love to hear your feedback on this work at ",(0,i.jsx)(t.a,{href:"mailto:kieran@3dstreet.org",children:"kieran@3dstreet.org"}),". Would you like these features? What is a price that you would pay for a subscription plan that includes these features?"]})]})}function h(e={}){const{wrapper:t}={...(0,n.a)(),...e.components};return t?(0,i.jsx)(t,{...e,children:(0,i.jsx)(c,{...e})}):c(e)}},4227:(e,t,a)=>{a.d(t,{Z:()=>i});const i=a.p+"assets/images/3d-tiles-3dstreet-aa3921b202e721e8fb32544a6f6f4f6d.jpeg"},7942:(e,t,a)=>{a.d(t,{Z:()=>i});const i=a.p+"assets/images/3d-tiles-3dstreet-aa3921b202e721e8fb32544a6f6f4f6d.jpeg"},415:(e,t,a)=>{a.d(t,{Z:()=>i});const i=a.p+"assets/images/treat-fair-bollard-buddy-signage-960x0-877276f37f74e65e5f7a2a898de69fee.webp"},1151:(e,t,a)=>{a.d(t,{Z:()=>r,a:()=>s});var i=a(7294);const n={},o=i.createContext(n);function s(e){const t=i.useContext(o);return i.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function r(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(n):e.components||n:s(e.components),i.createElement(o.Provider,{value:t},e.children)}}}]);