(self.webpackChunk_3dstreet_docs=self.webpackChunk_3dstreet_docs||[]).push([[8263],{23:e=>{"use strict";e.exports=JSON.parse('{"permalink":"/blog/2025/07/15/creating-photorealistic-pictures-and-animations-with-3dstreet-ai","source":"@site/blog/2025-07-15-creating-photorealistic-pictures-and-animations-with-3dstreet-ai.mdx","title":"Creating Photorealistic Pictures and Animations with 3DStreet and AI Rendering Tools","description":"Transform your 3DStreet scenes into stunning photorealistic images and animations using AI tools like Black Forest Labs and Google\'s Veo.","date":"2025-07-15T00:00:00.000Z","tags":[{"inline":true,"label":"AI","permalink":"/blog/tags/ai"},{"inline":true,"label":"animations","permalink":"/blog/tags/animations"},{"inline":true,"label":"photorealistic","permalink":"/blog/tags/photorealistic"},{"inline":true,"label":"street design","permalink":"/blog/tags/street-design"},{"inline":true,"label":"video","permalink":"/blog/tags/video"},{"inline":true,"label":"Black Forest Labs","permalink":"/blog/tags/black-forest-labs"},{"inline":true,"label":"Google Veo","permalink":"/blog/tags/google-veo"}],"readingTime":4.71,"hasTruncateMarker":true,"authors":[{"name":"Jacob Weiner","title":"2025 Summer Intern, 3DStreet","url":"https://www.linkedin.com/in/jacobrweiner/","imageURL":"./images/authors/jacobw.jpeg","key":"jacobw","page":null},{"name":"Kieran Farr","title":"Creator of 3DStreet","url":"https://github.com/kfarr","imageURL":"./images/authors/kfarr.jpeg","key":"kfarr","page":null}],"frontMatter":{"title":"Creating Photorealistic Pictures and Animations with 3DStreet and AI Rendering Tools","description":"Transform your 3DStreet scenes into stunning photorealistic images and animations using AI tools like Black Forest Labs and Google\'s Veo.","authors":["kfarr","jacobw"],"tags":["AI","animations","photorealistic","street design","video","Black Forest Labs","Google Veo"]},"unlisted":false,"nextItem":{"title":"10 Prompts to Supercharge Your Workflow with the New AI Assistant","permalink":"/blog/2025/05/29/10-prompts-to-try-with-the-new-ai-assistant"}}')},466:(e,t,i)=>{"use strict";i.d(t,{A:()=>s});const s=i.p+"assets/images/step2-a789dff7a9a435d80766becbb51f2b61.jpg"},1183:(e,t,i)=>{"use strict";i.d(t,{A:()=>s});const s=i.p+"assets/images/step5b-a1b9989b6bfc76914755fccadc77b9b3.jpg"},2175:(e,t,i)=>{"use strict";i.d(t,{A:()=>s});const s=i.p+"assets/images/step3-cee9bc8f3ffc8cb20aae9ae20b658976.jpg"},2401:(e,t,i)=>{"use strict";i.d(t,{A:()=>s});const s=i.p+"assets/images/step4c-e9f7bf373b1eaec031681fc3ac5055bb.jpg"},3155:(e,t,i)=>{"use strict";i.d(t,{A:()=>s});const s=i.p+"assets/images/step4a-a659355d819c5b36392b20be57722728.jpg"},4491:(e,t,i)=>{"use strict";i.d(t,{A:()=>s});const s=i.p+"assets/images/kfarr-f8acf80bb4d2c0c987ed0949839bfe16.jpeg"},5028:(e,t,i)=>{"use strict";i.d(t,{A:()=>s});const s=i.p+"assets/images/step4b-a4873f53c304040895335a33794936d1.jpg"},5249:(e,t,i)=>{"use strict";i.d(t,{A:()=>s});const s=i.p+"assets/images/jacobw-96dceb79248de2647e0e752aa19f286d.jpeg"},5697:(e,t,i)=>{"use strict";i.d(t,{A:()=>s});const s=i.p+"assets/images/step5-8270e7e645732d470095dbb71f90f912.jpg"},7904:(e,t,i)=>{"use strict";i.r(t),i.d(t,{assets:()=>d,contentTitle:()=>l,default:()=>u,frontMatter:()=>a,metadata:()=>s,toc:()=>h});var s=i(23),o=i(4848),n=i(8453),r=i(1960);i(8895);const a={title:"Creating Photorealistic Pictures and Animations with 3DStreet and AI Rendering Tools",description:"Transform your 3DStreet scenes into stunning photorealistic images and animations using AI tools like Black Forest Labs and Google's Veo.",authors:["kfarr","jacobw"],tags:["AI","animations","photorealistic","street design","video","Black Forest Labs","Google Veo"]},l="Creating Photorealistic Pictures and Animations with 3DStreet and AI Rendering Tools",d={authorsImageUrls:[i(5249).A,i(4491).A]},h=[{value:"Step 1: Create Your 3D Street Scene",id:"step-1-create-your-3d-street-scene",level:2},{value:"Step 2: Export a Clean JPEG",id:"step-2-export-a-clean-jpeg",level:2},{value:"Step 3: Import to Black Forest Labs for Photorealistic Enhancement",id:"step-3-import-to-black-forest-labs-for-photorealistic-enhancement",level:2},{value:"Output Before &amp; After Comparison",id:"output-before--after-comparison",level:3},{value:"Step 4: Use the Fill Tool for Structural Changes",id:"step-4-use-the-fill-tool-for-structural-changes",level:2},{value:"Step 5: Create Animation with Google&#39;s Veo",id:"step-5-create-animation-with-googles-veo",level:2},{value:"Step 6: Choose Your Animation Style",id:"step-6-choose-your-animation-style",level:2},{value:"Tips for Success",id:"tips-for-success",level:2},{value:"The Results",id:"the-results",level:2},{value:"Video Tutorial",id:"video-tutorial",level:3}];function c(e){const t={a:"a",h2:"h2",h3:"h3",img:"img",li:"li",p:"p",strong:"strong",ul:"ul",...(0,n.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(t.p,{children:"Did you know that you can realistic rendering and animations of your street scenes using free or low cost AI tools? Transform your basic 3D street designs into stunning photorealistic images and dynamic animations that will captivate stakeholders and bring your vision to life with this step-by-step guide."}),"\n",(0,o.jsx)("br",{}),"\n",(0,o.jsx)("br",{}),"\n",(0,o.jsx)(r.Ay,{streamType:"on-demand",playbackId:"ybdudfr3qeUVZLTS3vx9lPKsoRn7hNWC",primaryColor:"#FFFFFF",secondaryColor:"#000000",accentColor:"#653CB0",autoplay:"muted",loop:!0}),"\n",(0,o.jsx)("br",{}),"\n",(0,o.jsx)(t.p,{children:"In this guide, we'll walk through the complete workflow to take a 3DStreet scene from simple 3D rendering to more realistic images and animations using Black Forest Labs (BFL) and Google's Veo3 Models."}),"\n",(0,o.jsx)(t.h2,{id:"step-1-create-your-3d-street-scene",children:"Step 1: Create Your 3D Street Scene"}),"\n",(0,o.jsx)(t.p,{children:"First, let's create a 3D street scene like normal in 3DStreet. Whether you're starting from scratch or using a user-generated scene, make sure your layout captures the key elements of your street design vision."}),"\n",(0,o.jsx)(t.p,{children:(0,o.jsx)(t.img,{alt:"Creating and editing a 3DStreet scene",src:i(9693).A+"",width:"800",height:"450"})}),"\n",(0,o.jsx)(t.p,{children:"Once you're satisfied with your scene composition, it's time to export it for AI enhancement."}),"\n",(0,o.jsx)(t.h2,{id:"step-2-export-a-clean-jpeg",children:"Step 2: Export a Clean JPEG"}),"\n",(0,o.jsxs)(t.p,{children:["Download a clean, high-resolution JPEG from your 3DStreet scene using the ",(0,o.jsx)(t.strong,{children:"share button"}),". This will serve as the foundation for our AI enhancement process."]}),"\n",(0,o.jsx)("br",{}),"\n",(0,o.jsx)(t.p,{children:(0,o.jsx)(t.img,{alt:"Exporting JPEG from 3DStreet",src:i(466).A+"",width:"800",height:"450"})}),"\n",(0,o.jsx)("br",{}),"\n",(0,o.jsx)(t.p,{children:"Capture the scene from an angle that best showcases your street design, as this will be the basis for all subsequent enhancements. Make sure to turn off the 3DStreet Logo and the Scene Title (this is a Pro feature) to create a clean export."}),"\n",(0,o.jsx)(t.h2,{id:"step-3-import-to-black-forest-labs-for-photorealistic-enhancement",children:"Step 3: Import to Black Forest Labs for Photorealistic Enhancement"}),"\n",(0,o.jsxs)(t.p,{children:["Next, we'll import your screenshot into the ",(0,o.jsx)(t.a,{href:"https://playground.bfl.ai/",children:"Black Forest Labs Playground"})," to add photorealistic shading and lighting. This AI-powered tool will transform your basic 3D render into a more realistically shaded image."]}),"\n",(0,o.jsx)(t.p,{children:(0,o.jsx)(t.img,{alt:"Screenshot placeholder: Black Forest Labs interface - video timecode ~00:00:26",src:i(2175).A+"",width:"1706",height:"664"})}),"\n",(0,o.jsx)(t.p,{children:'Upload your JPEG and for the Flux Kontext [pro] Model to work its magic. You can use a basic prompt like "add photorealistic shading and lighting" or add more details for specific styling changes if desired.'}),"\n",(0,o.jsx)(t.p,{children:"You'll get a couple different example outputs to choose from, each with its own interpretation of how to make your scene more photorealistic."}),"\n",(0,o.jsx)(t.h3,{id:"output-before--after-comparison",children:"Output Before & After Comparison"}),"\n",(0,o.jsxs)("img-comparison-slider",{children:[(0,o.jsx)("img",{slot:"first",width:"100%",src:"/images/2025-07-10/suburban-before.jpg",alt:"3DStreet scene before AI enhancement"}),(0,o.jsx)("img",{slot:"second",width:"100%",src:"/images/2025-07-10/suburban-after.jpg",alt:"3DStreet scene after AI enhancement"})]}),"\n",(0,o.jsx)(t.h2,{id:"step-4-use-the-fill-tool-for-structural-changes",children:"Step 4: Use the Fill Tool for Structural Changes"}),"\n",(0,o.jsxs)(t.p,{children:["Another powerful feature from Black Forest Labs is the ",(0,o.jsx)(t.strong,{children:"Fill tool"}),", which allows you to modify specific parts of your scene. For example, you can change the structure of buildings to have something more realistic looking for suburban single-family homes."]}),"\n",(0,o.jsxs)(t.p,{children:['Once you have a source image loaded from a previous enhancement, or directly from 3DStreet, and you\'re viewing it in full screen from the BFL Playground, click the three-dots in the lower-right-hand corner and then click "Fill".\n',(0,o.jsx)(t.img,{alt:"Click the Fill tool",src:i(3155).A+"",width:"329",height:"293"})]}),"\n",(0,o.jsx)("br",{}),"\n",(0,o.jsx)("br",{}),"\n",(0,o.jsx)(t.p,{children:"In Fill mode, click and drag to create a mask (or outlined area) to indicate the area in which you'd like to replace with new imagery."}),"\n",(0,o.jsx)("br",{}),"\n",(0,o.jsx)(t.p,{children:(0,o.jsx)(t.img,{alt:"Using Fill tool to modify buildings",src:i(5028).A+"",width:"1280",height:"720"})}),"\n",(0,o.jsx)("br",{}),"\n",(0,o.jsx)(t.p,{children:"Then, enter a prompt to automatically fill the area with whatever you desire, such as:"}),"\n",(0,o.jsxs)(t.ul,{children:["\n",(0,o.jsx)(t.li,{children:"Replacing generic buildings with more realistic architectural styles"}),"\n",(0,o.jsx)(t.li,{children:"Add detailed facades and realistic building materials"}),"\n",(0,o.jsx)(t.li,{children:"Modify landscaping and environmental elements"}),"\n",(0,o.jsx)(t.li,{children:"Enhance street infrastructure with realistic details"}),"\n"]}),"\n",(0,o.jsx)(t.p,{children:'In this example we used the prompt, "replace with suburban single family homes":'}),"\n",(0,o.jsx)(t.p,{children:(0,o.jsx)(t.img,{alt:"Replacing default buildings with generates homes",src:i(2401).A+"",width:"1024",height:"553"})}),"\n",(0,o.jsx)("br",{}),"\n",(0,o.jsx)(t.p,{children:"Now we've created a customized, high quality rendering ready for sharing with stakeholders."}),"\n",(0,o.jsx)(t.h2,{id:"step-5-create-animation-with-googles-veo",children:"Step 5: Create Animation with Google's Veo"}),"\n",(0,o.jsxs)(t.p,{children:["We can take it one step further, by turning this enhanced static image into a dynamic animation! Take your photorealistic screenshot, right-click to download it, and load it into Google's Veo through ",(0,o.jsx)(t.a,{href:"https://labs.google/fx/tools/flow/",children:"Google Labs Flow"}),"."]}),"\n",(0,o.jsx)(t.p,{children:'Open up the Flow tool, choose "Frames to Video", then upload your enhanced image, then choose that image as the first frame, then enter a prompt such as "Animate this suburban street scene."'}),"\n",(0,o.jsx)("br",{}),"\n",(0,o.jsx)(t.p,{children:(0,o.jsx)(t.img,{alt:"Google Veo interface",src:i(5697).A+"",width:"1280",height:"720"})}),"\n",(0,o.jsx)("br",{}),"\n",(0,o.jsx)(t.p,{children:"The system will take about a minute to generate your animation options."}),"\n",(0,o.jsx)(t.h2,{id:"step-6-choose-your-animation-style",children:"Step 6: Choose Your Animation Style"}),"\n",(0,o.jsx)(t.p,{children:"After processing, Google's Veo will show you a couple different animation options. Each will have its own interpretation of how to bring your street scene to life with:"}),"\n",(0,o.jsxs)(t.ul,{children:["\n",(0,o.jsx)(t.li,{children:"Subtle camera movements"}),"\n",(0,o.jsx)(t.li,{children:"Environmental animations (trees swaying, etc.)"}),"\n",(0,o.jsx)(t.li,{children:"Lighting changes"}),"\n",(0,o.jsx)(t.li,{children:"Atmospheric effects"}),"\n"]}),"\n",(0,o.jsx)(t.p,{children:(0,o.jsx)(t.img,{alt:"Google Veo interface",src:i(1183).A+"",width:"1280",height:"720"})}),"\n",(0,o.jsx)(t.p,{children:"You can choose which ones you like best, or sometimes you'll need to adjust your prompt slightly to get an output that perfectly matches your vision."}),"\n",(0,o.jsx)(t.h2,{id:"tips-for-success",children:"Tips for Success"}),"\n",(0,o.jsxs)(t.ul,{children:["\n",(0,o.jsxs)(t.li,{children:[(0,o.jsx)(t.strong,{children:"Start with a clear, well-composed 3DStreet scene"})," - The quality of your final animation depends heavily on your initial composition"]}),"\n",(0,o.jsxs)(t.li,{children:[(0,o.jsx)(t.strong,{children:"Experiment with different prompts"})," - Small changes in your description can yield dramatically different results"]}),"\n",(0,o.jsxs)(t.li,{children:[(0,o.jsx)(t.strong,{children:"Be patient with processing times"})," - AI rendering can take a few minutes, but the results are worth the wait"]}),"\n",(0,o.jsxs)(t.li,{children:[(0,o.jsx)(t.strong,{children:"Save multiple versions"})," - Keep copies of your work at each stage in case you want to try different approaches"]}),"\n"]}),"\n",(0,o.jsx)(t.h2,{id:"the-results",children:"The Results"}),"\n",(0,o.jsx)(t.p,{children:"And there you go! You've successfully transformed a basic 3DStreet scene into a photorealistic, animated visualization that can effectively communicate your street design vision to stakeholders, community members, or anyone who needs to understand your proposed improvements."}),"\n",(0,o.jsx)(t.p,{children:"This workflow opens up exciting possibilities for urban designers, planners, and advocates who want to create compelling visualizations without needing advanced 3D animation skills."}),"\n",(0,o.jsx)(t.h3,{id:"video-tutorial",children:"Video Tutorial"}),"\n",(0,o.jsx)(t.p,{children:"Here's a video version of this tutorial:"}),"\n",(0,o.jsx)("iframe",{width:"700",height:"400",src:"https://www.youtube.com/embed/7P1Oq7a0tDM?si=wGMOYa8_W6f_uzv9",title:"YouTube video player",frameborder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share",referrerpolicy:"strict-origin-when-cross-origin",allowfullscreen:!0})]})}function u(e={}){const{wrapper:t}={...(0,n.R)(),...e.components};return t?(0,o.jsx)(t,{...e,children:(0,o.jsx)(c,{...e})}):c(e)}},8453:(e,t,i)=>{"use strict";i.d(t,{R:()=>r,x:()=>a});var s=i(6540);const o={},n=s.createContext(o);function r(e){const t=s.useContext(n);return s.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function a(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:r(e.components),s.createElement(n.Provider,{value:t},e.children)}},8895:function(e,t,i){"use strict";var s=this&&this.__createBinding||(Object.create?function(e,t,i,s){void 0===s&&(s=i),Object.defineProperty(e,s,{enumerable:!0,get:function(){return t[i]}})}:function(e,t,i,s){void 0===s&&(s=i),e[s]=t[i]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),n=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)"default"!==i&&Object.prototype.hasOwnProperty.call(e,i)&&s(t,e,i);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.ImgComparisonSlider=void 0;const r=i(6540);"undefined"!=typeof document&&Promise.resolve().then((()=>n(i(9749)))),t.ImgComparisonSlider=(0,r.forwardRef)((({children:e,onSlide:t,value:i,className:s,...o},n)=>{const a=(0,r.useRef)();return(0,r.useEffect)((()=>{void 0!==i&&(a.current.value=parseFloat(i.toString()))}),[i,a]),(0,r.useEffect)((()=>{t&&a.current.addEventListener("slide",t)}),[]),(0,r.useImperativeHandle)(n,(()=>a.current),[a]),(0,r.createElement)("img-comparison-slider",Object.assign({class:s?`${s} rendered`:"rendered",tabIndex:0,ref:a},o),e)}))},9693:(e,t,i)=>{"use strict";i.d(t,{A:()=>s});const s=i.p+"assets/images/step1-e4513ad7f645d38630ee90eb8771a3fc.jpg"},9749:()=>{(()=>{"use strict";var e={792:(e,t,i)=>{i.d(t,{Z:()=>n});var s=i(609),o=i.n(s)()((function(e){return e[1]}));o.push([e.id,':host{--divider-width: 1px;--divider-color: #fff;--divider-shadow: none;--default-handle-width: 50px;--default-handle-color: #fff;--default-handle-opacity: 1;--default-handle-shadow: none;--handle-position-start: 50%;position:relative;display:inline-block;overflow:hidden;line-height:0;direction:ltr}@media screen and (-webkit-min-device-pixel-ratio: 0)and (min-resolution: 0.001dpcm){:host{outline-offset:1px}}:host(:focus){outline:2px solid -webkit-focus-ring-color}::slotted(*){-webkit-user-drag:none;-khtml-user-drag:none;-moz-user-drag:none;-o-user-drag:none;user-drag:none;-webkit-touch-callout:none;-webkit-user-select:none;-khtml-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.first{position:absolute;left:0;top:0;right:0;line-height:normal;font-size:100%;max-height:100%;height:100%;width:100%;--exposure: 50%;--keyboard-transition-time: 0ms;--default-transition-time: 0ms;--transition-time: var(--default-transition-time)}.first .first-overlay-container{position:relative;clip-path:inset(0 var(--exposure) 0 0);transition:clip-path var(--transition-time);height:100%}.first .first-overlay{overflow:hidden;height:100%}.first.focused{will-change:clip-path}.first.focused .first-overlay-container{will-change:clip-path}.second{position:relative}.handle-container{transform:translateX(50%);position:absolute;top:0;right:var(--exposure);height:100%;transition:right var(--transition-time),bottom var(--transition-time)}.focused .handle-container{will-change:right}.divider{position:absolute;height:100%;width:100%;left:0;top:0;display:flex;align-items:center;justify-content:center;flex-direction:column}.divider:after{content:" ";display:block;height:100%;border-left-width:var(--divider-width);border-left-style:solid;border-left-color:var(--divider-color);box-shadow:var(--divider-shadow)}.handle{position:absolute;top:var(--handle-position-start);pointer-events:none;box-sizing:border-box;margin-left:1px;transform:translate(calc(-50% - 0.5px), -50%);line-height:0}.default-handle{width:var(--default-handle-width);opacity:var(--default-handle-opacity);transition:all 1s;filter:drop-shadow(var(--default-handle-shadow))}.default-handle path{stroke:var(--default-handle-color)}.vertical .first-overlay-container{clip-path:inset(0 0 var(--exposure) 0)}.vertical .handle-container{transform:translateY(50%);height:auto;top:unset;bottom:var(--exposure);width:100%;left:0;flex-direction:row}.vertical .divider:after{height:1px;width:100%;border-top-width:var(--divider-width);border-top-style:solid;border-top-color:var(--divider-color);border-left:0}.vertical .handle{top:auto;left:var(--handle-position-start);transform:translate(calc(-50% - 0.5px), -50%) rotate(90deg)}',""]);const n=o},609:e=>{e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var i=e(t);return t[2]?"@media ".concat(t[2]," {").concat(i,"}"):i})).join("")},t.i=function(e,i,s){"string"==typeof e&&(e=[[null,e,""]]);var o={};if(s)for(var n=0;n<this.length;n++){var r=this[n][0];null!=r&&(o[r]=!0)}for(var a=0;a<e.length;a++){var l=[].concat(e[a]);s&&o[l[0]]||(i&&(l[2]?l[2]="".concat(i," and ").concat(l[2]):l[2]=i),t.push(l))}},t}}},t={};function i(s){var o=t[s];if(void 0!==o)return o.exports;var n=t[s]={id:s,exports:{}};return e[s](n,n.exports,i),n.exports}i.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return i.d(t,{a:t}),t},i.d=(e,t)=>{for(var s in t)i.o(t,s)&&!i.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})},i.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e=i(792);const t="rendered",s=(e,t)=>{const i=e.getBoundingClientRect();let s,o;return"mousedown"===t.type?(s=t.clientX,o=t.clientY):(s=t.touches[0].clientX,o=t.touches[0].clientY),s>=i.x&&s<=i.x+i.width&&o>=i.y&&o<=i.y+i.height};let o;const n={ArrowLeft:-1,ArrowRight:1},r=["horizontal","vertical"],a=e=>({x:e.touches[0].pageX,y:e.touches[0].pageY}),l=e=>({x:e.pageX,y:e.pageY}),d="undefined"!=typeof window&&(null===window||void 0===window?void 0:window.HTMLElement);"undefined"!=typeof window&&(window.document&&(o=document.createElement("template"),o.innerHTML='<div class="second" id="second"> <slot name="second"><slot name="before"></slot></slot> </div> <div class="first" id="first"> <div class="first-overlay"> <div class="first-overlay-container" id="firstImageContainer"> <slot name="first"><slot name="after"></slot></slot> </div> </div> <div class="handle-container"> <div class="divider"></div> <div class="handle" id="handle"> <slot name="handle"> <svg xmlns="http://www.w3.org/2000/svg" class="default-handle" viewBox="-8 -3 16 6"> <path d="M -5 -2 L -7 0 L -5 2 M 5 -2 L 7 0 L 5 2" fill="none" vector-effect="non-scaling-stroke"/> </svg> </slot> </div> </div> </div> '),window.customElements.define("img-comparison-slider",class extends d{constructor(){super(),this.exposure=this.hasAttribute("value")?parseFloat(this.getAttribute("value")):50,this.slideOnHover=!1,this.slideDirection="horizontal",this.keyboard="enabled",this.isMouseDown=!1,this.animationDirection=0,this.isFocused=!1,this.dragByHandle=!1,this.onMouseMove=e=>{if(this.isMouseDown||this.slideOnHover){const t=l(e);this.slideToPage(t)}},this.bodyUserSelectStyle="",this.bodyWebkitUserSelectStyle="",this.onMouseDown=e=>{if(this.slideOnHover)return;if(this.handle&&!s(this.handleElement,e))return;e.preventDefault(),window.addEventListener("mousemove",this.onMouseMove),window.addEventListener("mouseup",this.onWindowMouseUp),this.isMouseDown=!0,this.enableTransition();const t=l(e);this.slideToPage(t),this.focus(),this.bodyUserSelectStyle=window.document.body.style.userSelect,this.bodyWebkitUserSelectStyle=window.document.body.style.webkitUserSelect,window.document.body.style.userSelect="none",window.document.body.style.webkitUserSelect="none"},this.onWindowMouseUp=()=>{this.isMouseDown=!1,window.document.body.style.userSelect=this.bodyUserSelectStyle,window.document.body.style.webkitUserSelect=this.bodyWebkitUserSelectStyle,window.removeEventListener("mousemove",this.onMouseMove),window.removeEventListener("mouseup",this.onWindowMouseUp)},this.touchStartPoint=null,this.isTouchComparing=!1,this.hasTouchMoved=!1,this.onTouchStart=e=>{this.dragByHandle&&!s(this.handleElement,e)||(this.touchStartPoint=a(e),this.isFocused&&(this.enableTransition(),this.slideToPage(this.touchStartPoint)))},this.onTouchMove=e=>{if(null===this.touchStartPoint)return;const t=a(e);if(this.isTouchComparing)return this.slideToPage(t),e.preventDefault(),!1;if(!this.hasTouchMoved){const i=Math.abs(t.y-this.touchStartPoint.y),s=Math.abs(t.x-this.touchStartPoint.x);if("horizontal"===this.slideDirection&&i<s||"vertical"===this.slideDirection&&i>s)return this.isTouchComparing=!0,this.focus(),this.slideToPage(t),e.preventDefault(),!1;this.hasTouchMoved=!0}},this.onTouchEnd=()=>{this.isTouchComparing=!1,this.hasTouchMoved=!1,this.touchStartPoint=null},this.onBlur=()=>{this.stopSlideAnimation(),this.isFocused=!1,this.firstElement.classList.remove("focused")},this.onFocus=()=>{this.isFocused=!0,this.firstElement.classList.add("focused")},this.onKeyDown=e=>{if("disabled"===this.keyboard)return;const t=n[e.key];this.animationDirection!==t&&void 0!==t&&(this.animationDirection=t,this.startSlideAnimation())},this.onKeyUp=e=>{if("disabled"===this.keyboard)return;const t=n[e.key];void 0!==t&&this.animationDirection===t&&this.stopSlideAnimation()},this.resetDimensions=()=>{this.imageWidth=this.offsetWidth,this.imageHeight=this.offsetHeight};const t=this.attachShadow({mode:"open"}),i=document.createElement("style");i.innerHTML=e.Z,this.getAttribute("nonce")&&i.setAttribute("nonce",this.getAttribute("nonce")),t.appendChild(i),t.appendChild(o.content.cloneNode(!0)),this.firstElement=t.getElementById("first"),this.handleElement=t.getElementById("handle")}set handle(e){this.dragByHandle="false"!==e.toString().toLowerCase()}get handle(){return this.dragByHandle}get value(){return this.exposure}set value(e){const t=parseFloat(e);t!==this.exposure&&(this.exposure=t,this.enableTransition(),this.setExposure())}get hover(){return this.slideOnHover}set hover(e){this.slideOnHover="false"!==e.toString().toLowerCase(),this.removeEventListener("mousemove",this.onMouseMove),this.slideOnHover&&this.addEventListener("mousemove",this.onMouseMove)}get direction(){return this.slideDirection}set direction(e){this.slideDirection=e.toString().toLowerCase(),this.slide(0),this.firstElement.classList.remove(...r),r.includes(this.slideDirection)&&this.firstElement.classList.add(this.slideDirection)}static get observedAttributes(){return["hover","direction"]}connectedCallback(){this.hasAttribute("tabindex")||(this.tabIndex=0),this.addEventListener("dragstart",(e=>(e.preventDefault(),!1))),new ResizeObserver(this.resetDimensions).observe(this),this.setExposure(0),this.keyboard=this.hasAttribute("keyboard")&&"disabled"===this.getAttribute("keyboard")?"disabled":"enabled",this.addEventListener("keydown",this.onKeyDown),this.addEventListener("keyup",this.onKeyUp),this.addEventListener("focus",this.onFocus),this.addEventListener("blur",this.onBlur),this.addEventListener("touchstart",this.onTouchStart,{passive:!0}),this.addEventListener("touchmove",this.onTouchMove,{passive:!1}),this.addEventListener("touchend",this.onTouchEnd),this.addEventListener("mousedown",this.onMouseDown),this.handle=this.hasAttribute("handle")?this.getAttribute("handle"):this.dragByHandle,this.hover=this.hasAttribute("hover")?this.getAttribute("hover"):this.slideOnHover,this.direction=this.hasAttribute("direction")?this.getAttribute("direction"):this.slideDirection,this.resetDimensions(),this.classList.contains(t)||this.classList.add(t)}disconnectedCallback(){this.transitionTimer&&window.clearTimeout(this.transitionTimer)}attributeChangedCallback(e,t,i){"hover"===e&&(this.hover=i),"direction"===e&&(this.direction=i),"keyboard"===e&&(this.keyboard="disabled"===i?"disabled":"enabled")}setExposure(e=0){var t;this.exposure=(t=this.exposure+e)<0?0:t>100?100:t,this.firstElement.style.setProperty("--exposure",100-this.exposure+"%")}slide(e=0){this.setExposure(e);const t=new Event("slide");this.dispatchEvent(t)}slideToPage(e){"horizontal"===this.slideDirection&&this.slideToPageX(e.x),"vertical"===this.slideDirection&&this.slideToPageY(e.y)}slideToPageX(e){const t=e-this.getBoundingClientRect().left-window.scrollX;this.exposure=t/this.imageWidth*100,this.slide(0)}slideToPageY(e){const t=e-this.getBoundingClientRect().top-window.scrollY;this.exposure=t/this.imageHeight*100,this.slide(0)}enableTransition(){this.firstElement.style.setProperty("--transition-time","100ms"),this.transitionTimer=window.setTimeout((()=>{this.firstElement.style.setProperty("--transition-time","var(--default-transition-time)"),this.transitionTimer=null}),100)}startSlideAnimation(){let e=null,t=this.animationDirection;this.firstElement.style.setProperty("--transition-time","var(--keyboard-transition-time)");const i=s=>{if(0===this.animationDirection||t!==this.animationDirection)return;null===e&&(e=s);const o=(s-e)/16.666666666666668*this.animationDirection;this.slide(o),setTimeout((()=>window.requestAnimationFrame(i)),0),e=s};window.requestAnimationFrame(i)}stopSlideAnimation(){this.animationDirection=0,this.firstElement.style.setProperty("--transition-time","var(--default-transition-time)")}}))})()})()}}]);