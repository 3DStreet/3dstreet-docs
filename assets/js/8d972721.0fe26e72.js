"use strict";(self.webpackChunk_3dstreet_docs=self.webpackChunk_3dstreet_docs||[]).push([[9381],{28453:(e,i,n)=>{n.d(i,{R:()=>r,x:()=>l});var t=n(96540);const s={},o=t.createContext(s);function r(e){const i=t.useContext(o);return t.useMemo((function(){return"function"==typeof e?e(i):{...i,...e}}),[i,e])}function l(e){let i;return i=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:r(e.components),t.createElement(o.Provider,{value:i},e.children)}},28545:(e,i,n)=>{n.d(i,{A:()=>t});const t=n.p+"assets/images/moveproperties-cd0ec6dcbf611665d3091d853e682966.gif"},55604:(e,i,n)=>{n.d(i,{A:()=>t});const t=n.p+"assets/images/3dstreet-editor-move-object-translation-a42f18a4491f1ce66cea846764818fc1.gif"},61914:(e,i,n)=>{n.r(i),n.d(i,{assets:()=>a,contentTitle:()=>l,default:()=>h,frontMatter:()=>r,metadata:()=>t,toc:()=>c});const t=JSON.parse('{"id":"3dstreet-editor/coordinate-systems","title":"Coordinate Systems in 3DStreet","description":"Understanding coordinate systems is fundamental to working effectively with 3DStreet, especially when positioning objects, setting scene locations, and working with augmented reality features. 3DStreet uses two primary coordinate systems that work together to connect your 3D designs with real-world geographic locations.","source":"@site/docs/3dstreet-editor/coordinate-systems.md","sourceDirName":"3dstreet-editor","slug":"/3dstreet-editor/coordinate-systems","permalink":"/docs/3dstreet-editor/coordinate-systems","draft":false,"unlisted":false,"editUrl":"https://github.com/3dstreet/3dstreet-docs/tree/main/docs/3dstreet-editor/coordinate-systems.md","tags":[],"version":"current","sidebarPosition":10,"frontMatter":{"sidebar_position":10},"sidebar":"tutorialSidebar","previous":{"title":"Keyboard Shortcuts","permalink":"/docs/3dstreet-editor/keyboard-shortcuts"},"next":{"title":"Key Features","permalink":"/docs/category/key-features"}}');var s=n(74848),o=n(28453);const r={sidebar_position:10},l="Coordinate Systems in 3DStreet",a={},c=[{value:"Overview",id:"overview",level:2},{value:"Local 3D Coordinate System (Three.js)",id:"local-3d-coordinate-system-threejs",level:2},{value:"Axes Definition (Relative to Default Camera Placement)",id:"axes-definition-relative-to-default-camera-placement",level:3},{value:"Key Properties and Units",id:"key-properties-and-units",level:3},{value:"Default Camera Orientation",id:"default-camera-orientation",level:3},{value:"Cardinal Directions",id:"cardinal-directions",level:3},{value:"Geographic Coordinate System",id:"geographic-coordinate-system",level:2},{value:"Components",id:"components",level:3},{value:"Scene Origin: Connecting the Systems",id:"scene-origin-connecting-the-systems",level:2},{value:"What is the Scene Origin?",id:"what-is-the-scene-origin",level:3},{value:"Setting a Scene Origin",id:"setting-a-scene-origin",level:3},{value:"Ground Control Points",id:"ground-control-points",level:3},{value:"Example Ground Control Points",id:"example-ground-control-points",level:4},{value:"Practical Implications",id:"practical-implications",level:2},{value:"Object Positioning",id:"object-positioning",level:3},{value:"WGS84 Elevation",id:"wgs84-elevation",level:2},{value:"Viewing Elevation Data",id:"viewing-elevation-data",level:3},{value:"Changing Elevation Values",id:"changing-elevation-values",level:3}];function d(e){const i={blockquote:"blockquote",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",img:"img",li:"li",ol:"ol",p:"p",strong:"strong",ul:"ul",...(0,o.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(i.header,{children:(0,s.jsx)(i.h1,{id:"coordinate-systems-in-3dstreet",children:"Coordinate Systems in 3DStreet"})}),"\n",(0,s.jsx)(i.p,{children:"Understanding coordinate systems is fundamental to working effectively with 3DStreet, especially when positioning objects, setting scene locations, and working with augmented reality features. 3DStreet uses two primary coordinate systems that work together to connect your 3D designs with real-world geographic locations."}),"\n",(0,s.jsx)(i.h2,{id:"overview",children:"Overview"}),"\n",(0,s.jsx)(i.p,{children:"3DStreet combines two coordinate systems to enable precise positioning and real-world context:"}),"\n",(0,s.jsxs)(i.ol,{children:["\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.strong,{children:"Local 3D Coordinate System"})," - Used for positioning objects within your scene"]}),"\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.strong,{children:"Geographic Coordinate System"})," - Used for connecting your scene to real-world locations"]}),"\n"]}),"\n",(0,s.jsxs)(i.p,{children:["The ",(0,s.jsx)(i.strong,{children:"scene origin"})," is the critical point where these two systems connect, serving as the reference point that links your 3D scene coordinates to a specific longitude and latitude on Earth."]}),"\n",(0,s.jsx)(i.h2,{id:"local-3d-coordinate-system-threejs",children:"Local 3D Coordinate System (Three.js)"}),"\n",(0,s.jsxs)(i.p,{children:["3DStreet is built on Three.js, which uses a ",(0,s.jsx)(i.strong,{children:"Y-up coordinate system"})," where:"]}),"\n",(0,s.jsx)(i.h3,{id:"axes-definition-relative-to-default-camera-placement",children:"Axes Definition (Relative to Default Camera Placement)"}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.strong,{children:"X-axis"}),": Left/right movement (red arrow in editor)"]}),"\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.strong,{children:"Y-axis"}),": Up/down movement (green arrow in editor)"]}),"\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.strong,{children:"Z-axis"}),": Forward/backward movement (blue arrow in editor)"]}),"\n"]}),"\n",(0,s.jsx)(i.p,{children:(0,s.jsx)(i.img,{alt:"3DStreet coordinate axes shown as colored arrows",src:n(55604).A+"",width:"600",height:"338"})}),"\n",(0,s.jsx)("br",{}),"\n",(0,s.jsx)(i.p,{children:(0,s.jsx)(i.em,{children:"The colored arrows in the 3DStreet editor represent the three coordinate axes: red (X), green (Y), and blue (Z)."})}),"\n",(0,s.jsx)(i.h3,{id:"key-properties-and-units",children:"Key Properties and Units"}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.strong,{children:"Units"}),": All measurements are in ",(0,s.jsx)(i.strong,{children:"meters"})," (except measure lines which can be toggled between imperial and metric units)"]}),"\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.strong,{children:"Rotation"}),": Rotation values are expressed in degrees (ie a rotation Y value of 180 will turn an object to face the opposite direction)"]}),"\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.strong,{children:"Origin"}),": The point (0, 0, 0) in your scene"]}),"\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.strong,{children:"Precision"}),": At least millimeter accuracy for relative positioning (ie 3 digits of precision saved)"]}),"\n"]}),"\n",(0,s.jsx)(i.h3,{id:"default-camera-orientation",children:"Default Camera Orientation"}),"\n",(0,s.jsx)(i.p,{children:"When you create a new scene, the default camera view faces:"}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.strong,{children:"Direction"}),": West (negative Z direction)"]}),"\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.strong,{children:"Position"}),": Centered around the scene origin (0, 0, 0)"]}),"\n"]}),"\n",(0,s.jsxs)(i.blockquote,{children:["\n",(0,s.jsxs)(i.p,{children:[(0,s.jsx)(i.strong,{children:"Note"}),": While some 3D applications use Z-up coordinate systems, 3DStreet follows the Three.js convention of Y-up, which is common in web-based 3D graphics."]}),"\n"]}),"\n",(0,s.jsx)(i.h3,{id:"cardinal-directions",children:"Cardinal Directions"}),"\n",(0,s.jsx)(i.p,{children:"North is x+ (positive) ie. rightward relative to default camera position."}),"\n",(0,s.jsx)(i.p,{children:"The orientation of all axes to cardinal directions is as follows:"}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsx)(i.li,{children:"x+ (positive) is north"}),"\n",(0,s.jsx)(i.li,{children:"x- (negative) is south"}),"\n",(0,s.jsx)(i.li,{children:"z- (negative) is west"}),"\n",(0,s.jsx)(i.li,{children:"z+ (positive) is east"}),"\n",(0,s.jsx)(i.li,{children:"y+ (positive) is up"}),"\n",(0,s.jsx)(i.li,{children:"y- (negative) is down"}),"\n"]}),"\n",(0,s.jsx)(i.p,{children:"Why? It's the default for Google 3D Tiles in three.js, so we just went with it."}),"\n",(0,s.jsx)(i.h2,{id:"geographic-coordinate-system",children:"Geographic Coordinate System"}),"\n",(0,s.jsx)(i.p,{children:"Geographic coordinates specify locations on Earth using:"}),"\n",(0,s.jsx)(i.h3,{id:"components",children:"Components"}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.strong,{children:"Longitude"}),": East/west position (-180\xb0 to +180\xb0)"]}),"\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.strong,{children:"Latitude"}),": North/south position (-90\xb0 to +90\xb0)"]}),"\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.strong,{children:"Elevation"}),": Height above reference level (automatically calculated, see below)"]}),"\n"]}),"\n",(0,s.jsx)(i.h2,{id:"scene-origin-connecting-the-systems",children:"Scene Origin: Connecting the Systems"}),"\n",(0,s.jsxs)(i.p,{children:["The ",(0,s.jsx)(i.strong,{children:"scene origin"})," is the fundamental concept that connects local 3D coordinates with geographic coordinates."]}),"\n",(0,s.jsx)(i.h3,{id:"what-is-the-scene-origin",children:"What is the Scene Origin?"}),"\n",(0,s.jsx)(i.p,{children:"The scene origin is:"}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsx)(i.li,{children:"The point (0, 0, 0) in your 3D scene's coordinate system"}),"\n",(0,s.jsx)(i.li,{children:"Assigned a specific longitude, latitude, and elevation when you set a scene location"}),"\n",(0,s.jsx)(i.li,{children:"The reference point for all object positioning in your scene"}),"\n"]}),"\n",(0,s.jsx)(i.h3,{id:"setting-a-scene-origin",children:"Setting a Scene Origin"}),"\n",(0,s.jsx)(i.p,{children:"When you set a scene location in 3DStreet:"}),"\n",(0,s.jsxs)(i.ol,{children:["\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.strong,{children:"Choose a Location"}),': Use the "Set Location" feature to specify a real-world location']}),"\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.strong,{children:"Origin Assignment"}),": The scene origin (0, 0, 0) is mapped to the chosen longitude/latitude"]}),"\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.strong,{children:"Reference Established"}),": All objects in your scene are positioned relative to this origin"]}),"\n"]}),"\n",(0,s.jsx)(i.h3,{id:"ground-control-points",children:"Ground Control Points"}),"\n",(0,s.jsxs)(i.p,{children:["For maximum accuracy, especially in augmented reality applications, choose your scene origin at a ",(0,s.jsx)(i.strong,{children:"ground control point"}),":"]}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.strong,{children:"Easily Identifiable"}),": Choose a location you can easily find and verify in real life"]}),"\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.strong,{children:"Visible from Above"}),": Select points clearly visible in satellite imagery"]}),"\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.strong,{children:"Stable Features"}),": Use permanent landmarks like building corners, utility covers, or intersection centers"]}),"\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.strong,{children:"Accessible"}),": Ensure the point can be reached when conducting field work"]}),"\n"]}),"\n",(0,s.jsx)(i.h4,{id:"example-ground-control-points",children:"Example Ground Control Points"}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsx)(i.li,{children:"Building corners at ground level"}),"\n",(0,s.jsx)(i.li,{children:"Intersection centerlines"}),"\n",(0,s.jsx)(i.li,{children:"Utility access covers"}),"\n",(0,s.jsx)(i.li,{children:"Permanent street furniture"}),"\n",(0,s.jsx)(i.li,{children:"Surveyor markers"}),"\n"]}),"\n",(0,s.jsx)(i.h2,{id:"practical-implications",children:"Practical Implications"}),"\n",(0,s.jsx)(i.h3,{id:"object-positioning",children:"Object Positioning"}),"\n",(0,s.jsx)(i.p,{children:"Understanding coordinate systems helps with:"}),"\n",(0,s.jsxs)(i.p,{children:[(0,s.jsx)(i.strong,{children:"Precise Placement"}),":"]}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsx)(i.li,{children:"Objects placed at specific X, Y, Z coordinates will always maintain their relative positions"}),"\n",(0,s.jsx)(i.li,{children:"Changing the scene geospatial origin (choosing a new lat/lon value) doesn't affect object relationships within the scene -- ie the positioning of objects in the three.js coordinate system remains the same even after changing scene's geospatial location"}),"\n"]}),"\n",(0,s.jsx)(i.p,{children:(0,s.jsx)(i.img,{alt:"Editing object position coordinates in properties panel",src:n(28545).A+"",width:"800",height:"453"})}),"\n",(0,s.jsx)(i.p,{children:(0,s.jsx)(i.em,{children:"Object coordinates can be precisely edited in the properties panel, showing exact X, Y, Z values."})}),"\n",(0,s.jsx)(i.h2,{id:"wgs84-elevation",children:"WGS84 Elevation"}),"\n",(0,s.jsx)(i.p,{children:"When a geolocation lat/lon is added to a scene, 3DStreet calculates multiple elevation values for precise positioning:"}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.strong,{children:"Ellipsoidal Height"}),": Height above the WGS84 ellipsoid"]}),"\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.strong,{children:"Orthometric Height"}),": Height above mean sea level"]}),"\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.strong,{children:"Geoid Height"}),": Adjustment between ellipsoidal and orthometric measurements"]}),"\n"]}),"\n",(0,s.jsx)(i.h3,{id:"viewing-elevation-data",children:"Viewing Elevation Data"}),"\n",(0,s.jsx)(i.p,{children:"Normally users do not need to set the WGS84 ellipsoid elevation level of your scene directly. Instead, when a location is chosen in the Scene Location modal the Ellipsoidal Height is calculated based on a coarse topographic model of the Earth via a cloud function. This provides elevation data required to render 3D tiles at the correct ground level. The intent of the calculated values is such that the 3D tiles geospatial layer's topographic ground elevation is 0 at the scene origin position."}),"\n",(0,s.jsxs)(i.p,{children:["You can see the calculated elevation values for a scene by clicking on Geospatial > Show Advanced > and viewing values for ",(0,s.jsx)(i.code,{children:"ellipsoidalHeight"}),", ",(0,s.jsx)(i.code,{children:"geoidHeight"}),", and ",(0,s.jsx)(i.code,{children:"orthometricHeight"})," (all values in meters)."]}),"\n",(0,s.jsx)(i.h3,{id:"changing-elevation-values",children:"Changing Elevation Values"}),"\n",(0,s.jsxs)(i.p,{children:[(0,s.jsx)(i.code,{children:"ellipsoidalHeight"})," is the only value used dynamically in the application for the positioning of 3D tiles, the others are used in calculation and saved for reference only. It is possible to edit ",(0,s.jsx)(i.code,{children:"ellipsoidalHeight"})," and that updated value will be saved and restored in future sessions. However, elevation values are always recalculated upon setting a lat/long geospatial origin for your scene, so take care to not reset a geolocation after setting a custom elevation or the value will be overwritten."]})]})}function h(e={}){const{wrapper:i}={...(0,o.R)(),...e.components};return i?(0,s.jsx)(i,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}}}]);